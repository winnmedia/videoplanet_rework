@use '@/shared/config/design-tokens.scss' as *;

.button {
  @include button-base;
  position: relative;
  overflow: hidden;
  font-family: $font-primary;
  
  // Ripple effect
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: $radius-full;
    background: rgba(255, 255, 255, 0.5);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  
  &:active::before {
    width: 300px;
    height: 300px;
  }
}

// Sizes
.sm {
  height: $button-height-sm;
  padding: 0 $spacing-md;
  font-size: $font-size-sm;
  border-radius: $radius-xl;
}

.md {
  height: $button-height-md;
  padding: 0 $spacing-lg;
  font-size: $font-size-base;
  border-radius: $radius-xl;
}

.lg {
  height: $button-height-lg;
  padding: 0 $spacing-2xl;
  font-size: $font-size-md;
  border-radius: $radius-2xl;
}

// Variants
.primary {
  background: linear-gradient(135deg, $color-primary 0%, $color-primary-dark 100%);
  color: $color-white;
  
  @include hover-lift;
  
  &:hover:not(:disabled) {
    background: linear-gradient(135deg, $color-primary-dark 0%, $color-primary-darker 100%);
    box-shadow: $shadow-primary;
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }
}

.secondary {
  background: $color-white;
  color: $color-dark;
  border: $border-1 solid $color-gray-300;
  
  &:hover:not(:disabled) {
    background: $color-gray-100;
    border-color: $color-primary;
    color: $color-primary;
    transform: translateY(-1px);
    box-shadow: $shadow-sm;
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }
}

.outline {
  background: transparent;
  color: $color-primary;
  border: $border-2 solid $color-primary;
  
  &:hover:not(:disabled) {
    background: rgba($color-primary, 0.05);
    transform: translateY(-1px);
    box-shadow: $shadow-sm;
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }
  
  &::before {
    background: rgba($color-primary, 0.2);
  }
}

.danger {
  background: linear-gradient(135deg, $color-error 0%, $color-error-dark 100%);
  color: $color-white;
  
  @include hover-lift;
  
  &:hover:not(:disabled) {
    background: linear-gradient(135deg, $color-error-dark 0%, $color-error-darker 100%);
    box-shadow: 0 5px 20px rgba($color-error, 0.3);
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }
}

.ghost {
  background: transparent;
  color: $color-dark;
  
  &:hover:not(:disabled) {
    background: rgba($color-dark, 0.05);
  }
  
  &:active:not(:disabled) {
    background: rgba($color-dark, 0.1);
  }
}

// States
.fullWidth {
  width: 100%;
}

.loading {
  color: transparent;
  pointer-events: none;
  
  &::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    top: 50%;
    left: 50%;
    margin-left: -10px;
    margin-top: -10px;
    border: 2px solid $color-white;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spinner 0.8s linear infinite;
  }
  
  &.secondary::after,
  &.outline::after,
  &.ghost::after {
    border-color: $color-primary;
    border-top-color: transparent;
  }
  
  @keyframes spinner {
    to { transform: rotate(360deg); }
  }
}

// Icon support
.icon {
  display: inline-flex;
  align-items: center;
  gap: $spacing-sm;
  
  svg {
    width: 1.2em;
    height: 1.2em;
  }
}

// Responsive
@include mobile {
  .sm {
    height: 32px;
    padding: 0 $spacing-sm;
    font-size: $font-size-xs;
  }
  
  .md {
    height: 40px;
    padding: 0 $spacing-md;
    font-size: $font-size-sm;
  }
  
  .lg {
    height: 48px;
    padding: 0 $spacing-lg;
    font-size: $font-size-base;
  }
}