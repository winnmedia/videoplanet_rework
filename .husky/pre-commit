#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” í’ˆì§ˆ ê²Œì´íŠ¸ ê²€ì‚¬ ì‹œì‘..."

# Lint staged files
npx lint-staged

# TypeScript íƒ€ì… ê²€ì‚¬
echo "ğŸ” TypeScript íƒ€ì… ê²€ì‚¬..."
npx tsc --noEmit --skipLibCheck

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ë³€ê²½ëœ íŒŒì¼ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë§Œ)
echo "ğŸ§ª ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
npm run test -- --findRelatedTests --passWithNoTests

echo "âœ… Pre-commit ê²€ì‚¬ ì™„ë£Œ"
