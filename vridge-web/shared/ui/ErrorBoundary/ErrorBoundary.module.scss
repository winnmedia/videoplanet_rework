@use '@/shared/config/design-tokens.scss' as *;

.errorBoundary {
  @include card;
  padding: $spacing-2xl;
  text-align: center;
  max-width: 500px;
  margin: 0 auto;
  background: $color-white;
  border: $border-1 solid $color-gray-300;
}

.content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: $spacing-lg;
}

.icon {
  color: $color-error;
  flex-shrink: 0;
  
  svg {
    display: block;
    width: 48px;
    height: 48px;
  }
}

.title {
  font-size: $font-size-xl;
  font-weight: $font-weight-semibold;
  color: $color-text-primary;
  margin: 0;
}

.description {
  font-size: $font-size-base;
  color: $color-text-secondary;
  margin: 0;
  line-height: $line-height-normal;
}

.actions {
  display: flex;
  gap: $spacing-md;
  flex-wrap: wrap;
  justify-content: center;
}

// 크기 변형
.sm {
  padding: $spacing-lg;
  max-width: 400px;
  
  .icon svg {
    width: 32px;
    height: 32px;
  }
  
  .title {
    font-size: $font-size-lg;
  }
  
  .description {
    font-size: $font-size-sm;
  }
}

.md {
  // 기본 스타일 (이미 정의됨)
}

.lg {
  padding: $spacing-3xl;
  max-width: 600px;
  
  .icon svg {
    width: 64px;
    height: 64px;
  }
  
  .title {
    font-size: $font-size-2xl;
  }
  
  .description {
    font-size: $font-size-md;
  }
}

// 에러 세부사항 (개발 모드)
.details {
  width: 100%;
  margin-top: $spacing-lg;
  text-align: left;
  
  summary {
    cursor: pointer;
    font-weight: $font-weight-semibold;
    color: $color-text-primary;
    padding: $spacing-sm 0;
    border-bottom: $border-1 solid $color-gray-300;
    
    @include focus-visible;
    
    &:hover {
      color: $color-primary;
    }
  }
}

.errorDetails {
  background: $color-gray-100;
  border-radius: $radius-md;
  padding: $spacing-md;
  margin-top: $spacing-sm;
  max-height: 300px;
  overflow-y: auto;
}

.errorMessage,
.stackTrace {
  font-family: $font-mono;
  font-size: $font-size-xs;
  color: $color-error;
  white-space: pre-wrap;
  word-break: break-word;
  margin: 0;
}

.stackTrace {
  margin-top: $spacing-sm;
  color: $color-gray-700;
  border-top: $border-1 solid $color-gray-300;
  padding-top: $spacing-sm;
}

// 반응형
@include mobile {
  .errorBoundary {
    padding: $spacing-lg;
    margin: $spacing-md;
  }
  
  .sm {
    padding: $spacing-md;
  }
  
  .lg {
    padding: $spacing-xl;
  }
  
  .title {
    font-size: $font-size-lg;
  }
  
  .description {
    font-size: $font-size-sm;
  }
  
  .actions {
    flex-direction: column;
    width: 100%;
    
    button {
      width: 100%;
    }
  }
}

// 다크 모드 지원 (미래 확장용)
@media (prefers-color-scheme: dark) {
  .errorBoundary {
    background: $color-dark;
    border-color: $color-gray-700;
  }
  
  .title {
    color: $color-white;
  }
  
  .description {
    color: $color-gray-300;
  }
  
  .errorDetails {
    background: rgba($color-black, 0.3);
  }
  
  .stackTrace {
    border-top-color: $color-gray-700;
  }
}